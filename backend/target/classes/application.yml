server:
  port: 8080

spring:
  datasource:
    url: ${DB_URL:jdbc:mysql://localhost:3307/db_taskmate?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
    username: ${DB_USERNAME:taskmate}
    password: ${DB_PASSWORD:taskmate}
  jpa:
    open-in-view: false
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MariaDBDialect
  flyway:
    # XAMPP MariaDB often reports version as "5.5.5-..." which Flyway 10 treats as MySQL 5.5 (unsupported).
    # We keep Flyway OFF by default and rely on the provided SQL import file.
    enabled: false

  mail:
    host: ${MAIL_HOST:}
    port: ${MAIL_PORT:587}
    username: ${MAIL_USERNAME:}
    password: ${MAIL_PASSWORD:}
    properties:
      mail:
        smtp:
          auth: ${MAIL_SMTP_AUTH:true}
          starttls:
            enable: ${MAIL_SMTP_STARTTLS:true}

taskmate:
  mail:
    from: ${MAIL_FROM:}
  jwt:
    secret: ${JWT_SECRET:change-me-please-change-me-please-change-me-please}
    expiration-minutes: ${JWT_EXP_MINUTES:120}
  storage:
    local-dir: ${STORAGE_DIR:./storage}

management:
  endpoints:
    web:
      exposure:
        include: health,info
